# –ú–∞—à–∏–Ω —É–¥–∏—Ä–¥–∞—Ö —Å–∏—Å—Ç–µ–º - –ê–¥–º–∏–Ω –∑–∞–∞–≤–∞—Ä

## üéØ –•—ç—Ä—Ö—ç–Ω –∞—à–∏–≥–ª–∞—Ö

### 1. –ê–¥–º–∏–Ω —Ö—ç—Å—ç–≥—Ç –Ω—ç–≤—Ç—Ä—ç—Ö
```
http://localhost:3000/admin
```

### 2. "–ú–∞—à–∏–Ω –Ω—ç–º—ç—Ö" —Ç–æ–≤—á –¥–∞—Ä–Ω–∞
–®–∞—Ä ”©–Ω–≥–∏–π–Ω header –¥—ç—ç—Ä—Ö –Ω–æ–≥–æ–æ–Ω "–ú–∞—à–∏–Ω –Ω—ç–º—ç—Ö" —Ç–æ–≤—á –¥–∞—Ä–Ω–∞.

---

## ‚ú® –®–∏–Ω—ç —Ñ—É–Ω–∫—Ü—É—É–¥

### üîÑ –¢”©–ª”©–≤ ”©”©—Ä—á–ª”©—Ö (Active/Inactive)
–ú–∞—à–∏–Ω –±“Ø—Ä –¥—ç—ç—Ä **–ò–¥—ç–≤—Ö—Ç—ç–π/–ò–¥—ç–≤—Ö–≥“Ø–π** —Ç–æ–≤—á –±–∞–π–¥–∞–≥. –≠–Ω—ç –Ω—å:
- ‚úÖ **–ò–¥—ç–≤—Ö—Ç—ç–π**: –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–¥ –≤—ç–±—Å–∞–π—Ç –¥—ç—ç—Ä —Ö–∞—Ä–Ω–∞
- ‚ùå **–ò–¥—ç–≤—Ö–≥“Ø–π**: –ó”©–≤—Ö”©–Ω –∞–¥–º–∏–Ω–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞, —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–¥ –Ω—É—É–≥–¥–∞–Ω–∞

**–•—ç—Ä—Ö—ç–Ω –∞—à–∏–≥–ª–∞—Ö:**
1. –ú–∞—à–∏–Ω—ã –∫–∞—Ä—Ç –¥—ç—ç—Ä—Ö —Ç”©–ª”©–≤–∏–π–Ω —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–Ω–∞
2. –ê–≤—Ç–æ–º–∞—Ç–∞–∞—Ä ”©”©—Ä—á–ª”©–≥–¥”©–Ω”© (–∏–¥—ç–≤—Ö—Ç—ç–π ‚Üî –∏–¥—ç–≤—Ö–≥“Ø–π)
3. Refresh —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞–≥“Ø–π

### üñºÔ∏è –ó—É—Ä–≥–∏–π–Ω —Ö–∞–¥–≥–∞–ª–∞–ª—Ç
- ‚ö†Ô∏è **Base64 –∑—É—Ä–∞–≥**: `/lotteryCars/{id}.jpg` –≥—ç—Å—ç–Ω –∑–∞–º–¥ placeholder —Ö–∞–¥–≥–∞–ª–∞–≥–¥–∞–Ω–∞
- üí° **–ó”©–≤–ª”©–º–∂**: Production –¥—ç—ç—Ä AWS S3, Cloudinary –∞—à–∏–≥–ª–∞
- ‚úÖ **Database –∞–ª–¥–∞–∞ –∑–∞—Å–∞–≥–¥—Å–∞–Ω**: "Data too long" –∞–ª–¥–∞–∞ –≥–∞—Ä–∞—Ö–≥“Ø–π –±–æ–ª—Å–æ–Ω

### 3. –ú—ç–¥—ç—ç–ª—ç–ª –æ—Ä—É—É–ª–∞—Ö

#### –®–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π —Ç–∞–ª–±–∞—Ä—É—É–¥:
- **–ú–∞—à–∏–Ω—ã ID**: –î–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π ID (–∂–∏—à—ç—ç: `lexus-600`, `bmw-x5`)
  - –ó”©–≤—Ö”©–Ω “Ø—Å—ç–≥, —Ç–æ–æ, `_` –±–æ–ª–æ–Ω `-` —Ç—ç–º–¥—ç–≥—Ç

- **–ú–∞—à–∏–Ω—ã –Ω—ç—Ä**: –ú–∞—à–∏–Ω—ã –±“Ø—Ç—ç–Ω –Ω—ç—Ä (–∂–∏—à—ç—ç: `LEXUS 600`)

- **–î–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä**: –ë–∞–Ω–∫–Ω—ã –¥–∞–Ω—Å–Ω—ã –¥—É–≥–∞–∞—Ä (–∂–∏—à—ç—ç: `5168040333`)
  - –ó”©–≤—Ö”©–Ω —Ç–æ–æ

- **–≠–∑—ç–º—à–∏–≥—á–∏–π–Ω –Ω—ç—Ä**: –î–∞–Ω—Å–Ω—ã —ç–∑—ç–º—à–∏–≥—á (–∂–∏—à—ç—ç: `–ë.”®–ª–∑–∏–π–Ω—è–º`)

- **“Æ–Ω—ç**: –¢–∞—Å–∞–ª–±–∞—Ä—ã–Ω “Ø–Ω—ç (–∂–∏—à—ç—ç: `50,000`)
  - –¢–∞—Å–ª–∞–ª—ã–≥ –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –Ω—ç–º–Ω—ç
  - ‚ÇÆ —Ç—ç–º–¥—ç–≥ –Ω—ç–º—ç—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞–≥“Ø–π

- **–ù–∏–π—Ç —Å—É–≥–∞–ª–∞–∞–Ω—ã —Ç–æ–æ**: –°—É–≥–∞–ª–∞–∞–Ω–¥ –æ—Ä–æ–ª—Ü–æ—Ö –Ω–∏–π—Ç —Ç–æ–æ (–∂–∏—à—ç—ç: `9899`)

#### –ù—ç–º—ç–ª—Ç —Ç–∞–ª–±–∞—Ä—É—É–¥:
- **–ú–∞—à–∏–Ω—ã –∑—É—Ä–∞–≥**: –ó—É—Ä–∞–≥ –±–∞–π—Ä—à—É—É–ª–∞—Ö (–º–∞–∫—Å 5MB)
  - JPG, PNG, WebP —Ñ–æ—Ä–º–∞—Ç
  - –ó”©–≤–ª”©–º–∂: 800x600px —ç—Å–≤—ç–ª –¥—ç—ç—à

- **Facebook —Ö–æ–ª–±–æ–æ—Å**: –°—É–≥–∞–ª–∞–∞–Ω—ã –ø–æ—Å—Ç —Ö–æ–ª–±–æ–æ—Å
  - `http://` —ç—Å–≤—ç–ª `https://` —ç—ç—Ä —ç—Ö–ª—ç–Ω—ç

- **–¢”©–ª”©–≤**: –ú–∞—à–∏–Ω—ã —Ö–∞—Ä–∞–≥–¥–∞—Ö —ç—Å—ç—Ö
  - **–ò–¥—ç–≤—Ö—Ç—ç–π**: –í—ç–±—Å–∞–π—Ç –¥—ç—ç—Ä —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞ (default)
  - **–ò–¥—ç–≤—Ö–≥“Ø–π**: –ó”©–≤—Ö”©–Ω –∞–¥–º–∏–Ω–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞

### 4. –•–∞–¥–≥–∞–ª–∞—Ö
"–ú–∞—à–∏–Ω –Ω—ç–º—ç—Ö" —Ç–æ–≤—á –¥–∞—Ä–∂ –º—ç–¥—ç—ç–ª–ª–∏–π–≥ —Ö–∞–¥–≥–∞–ª–Ω–∞.

–ê–º–∂–∏–ª—Ç—Ç–∞–π –±–æ–ª –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –∞–¥–º–∏–Ω –∂–∞–≥—Å–∞–∞–ª—Ç —Ä—É—É –±—É—Ü–Ω–∞.

## üìä Database Schema

```sql
CREATE TABLE lotteryName (
  id VARCHAR(255) PRIMARY KEY,
  img TEXT,
  iban VARCHAR(50) NOT NULL,
  ibanName VARCHAR(255) NOT NULL,
  price VARCHAR(50) NOT NULL,
  fbLink TEXT,
  carName VARCHAR(255) NOT NULL,
  total INT NOT NULL,
  sold INT DEFAULT 0,
  status VARCHAR(50) DEFAULT 'active'  -- 'active' or 'inactive'
);
```

## üîß API Endpoints

### POST /api/cars/add

**Request Body:**
```json
{
  "id": "lexus-600",
  "img": "data:image/jpeg;base64,/9j/4AAQ..." or "/path/to/image.jpg",
  "iban": "5168040333",
  "ibanName": "–ë.”®–ª–∑–∏–π–Ω—è–º",
  "price": "50000",
  "fbLink": "https://www.facebook.com/share/p/1D5cdtnpWE/",
  "carName": "LEXUS 600",
  "total": 9899,
  "sold": 0,
  "status": "active"
}
```

**Response (Success - 201):**
```json
{
  "success": true,
  "message": "–ú–∞—à–∏–Ω –∞–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–º—ç–≥–¥–ª—ç—ç",
  "car": { ... }
}
```

**Response (Error - 400/409/500):**
```json
{
  "error": "–ê–ª–¥–∞–∞–Ω—ã –º—ç–¥—ç—ç–ª—ç–ª",
  "details": "–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª"
}
```

---

### PATCH /api/cars/update-status

**Description**: –ú–∞—à–∏–Ω—ã —Ç”©–ª”©–≤–∏–π–≥ ”©”©—Ä—á–ª”©—Ö (active ‚Üî inactive)

**Request Body:**
```json
{
  "id": "lexus-600",
  "status": "inactive"
}
```

**Response (Success - 200):**
```json
{
  "success": true,
  "message": "\"LEXUS 600\" –º–∞—à–∏–Ω—ã —Ç”©–ª”©–≤ \"–∏–¥—ç–≤—Ö–≥“Ø–π\" –±–æ–ª–∂ ”©”©—Ä—á–ª”©–≥–¥–ª”©”©",
  "car": {
    "id": "lexus-600",
    "carName": "LEXUS 600",
    "status": "inactive"
  }
}
```

**Response (Error - 400/404/500):**
```json
{
  "error": "–¢”©–ª”©–≤ ”©”©—Ä—á–ª”©—Ö”©–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞",
  "details": "–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª"
}
```

## ‚úÖ Validation Rules

1. **ID**: –î–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π, –∑”©–≤—Ö”©–Ω “Ø—Å—ç–≥/—Ç–æ–æ/_/-
2. **IBAN**: –ó”©–≤—Ö”©–Ω —Ç–æ–æ
3. **Price**: –ó”©–≤—Ö”©–Ω —Ç–æ–æ (—Ç–∞—Å–ª–∞–ª, ‚ÇÆ –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –±–æ–ª–æ–≤—Å—Ä—É—É–ª–Ω–∞)
4. **Total**: –≠–µ—Ä—ç–≥ –±“Ø—Ö—ç–ª —Ç–æ–æ
5. **Image**: Base64 ‚Üí `/lotteryCars/{id}.jpg` placeholder —Ö–∞–¥–≥–∞–ª–∞–≥–¥–∞–Ω–∞
6. **Facebook Link**: http/https —ç—ç—Ä —ç—Ö–ª—ç–Ω—ç
7. **Status**: "active" —ç—Å–≤—ç–ª "inactive" (default: "active")

## üé® Features

### Frontend Features:
- ‚úÖ Real-time form validation
- ‚úÖ Auto-formatting for price (add commas)
- ‚úÖ Image preview before upload
- ‚úÖ Image size/type validation
- ‚úÖ Responsive design (mobile/tablet/desktop)
- ‚úÖ Loading states with animations
- ‚úÖ Success/Error notifications with auto-dismiss
- ‚úÖ Field-level error messages
- ‚úÖ Professional glassmorphism design
- ‚úÖ **Status toggle** (active/inactive) with visual feedback
- ‚úÖ **One-click status change** - no page refresh needed

### Backend Features:
- ‚úÖ MySQL connection pooling
- ‚úÖ Input sanitization & validation
- ‚úÖ Duplicate ID prevention (409 Conflict)
- ‚úÖ SQL injection protection
- ‚úÖ Proper error handling with rollback
- ‚úÖ Type-safe TypeScript implementation
- ‚úÖ **Image storage optimization** - prevents "Data too long" errors
- ‚úÖ **Status management API** - PATCH endpoint for status updates

## üöÄ Tech Stack

- **Framework**: Next.js 15.5 (App Router)
- **Language**: TypeScript 5
- **Database**: MySQL
- **Styling**: Tailwind CSS 3.4
- **Icons**: Lucide React
- **Architecture**: RESTful API

## üìù Example SQL Operations

### Insert New Car
```sql
INSERT INTO lotteryName
  (id, img, iban, ibanName, price, fbLink, carName, total, sold, status)
VALUES
  ('lexus-600', '/lotteryCars/lexus-600.jpg', '5168040333',
   '–ë.”®–ª–∑–∏–π–Ω—è–º', '50000', 'https://www.facebook.com/share/p/1D5cdtnpWE/',
   'LEXUS 600', 9899, 0, 'active');
```

### Update Car Status
```sql
UPDATE lotteryName
SET status = 'inactive'
WHERE id = 'lexus-600';
```

### Get Active Cars Only (for public website)
```sql
SELECT * FROM lotteryName
WHERE status = 'active'
ORDER BY id DESC;
```

### Get All Cars (for admin)
```sql
SELECT * FROM lotteryName
ORDER BY id DESC;
```

## üõ°Ô∏è Security

- SQL Injection protection (Parameterized queries)
- Input validation & sanitization
- File type & size validation
- Connection pooling with limits
- Error handling without sensitive data exposure

## üì± Responsive Design

- Mobile: Optimized layout
- Tablet: 2-column grid
- Desktop: Full feature layout
- Touch-friendly buttons
- Accessible form controls

---

Made with ‚ù§Ô∏è for World-Class Lottery System
